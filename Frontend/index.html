<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hranilica za zivotinje</title>

    <style>

.button-54 {
  font-family: "Open Sans", sans-serif;
  font-size: 16px;
  letter-spacing: 2px;
  text-decoration: none;
  text-transform: uppercase;
  color: #000;
  cursor: pointer;
  border: 3px solid;
  padding: 0.25em 0.5em;
  box-shadow: 1px 1px 0px 0px, 2px 2px 0px 0px, 3px 3px 0px 0px, 4px 4px 0px 0px, 5px 5px 0px 0px;
  position: relative;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  height: 17%;
}

.button-54:active {
  box-shadow: 0px 0px 0px 0px;
  top: 5px;
  left: 5px;
}

@media (min-width: 768px) {
  .button-54 {
    padding: 0.25em 0.75em;
  }
}

input::-moz-focus-inner,
input::-moz-focus-outer {
  border: 0;
}

</style>
</head>

<body style="width: 100%; height: 100%; background-image: url('cuke.jpg'); background-repeat: no-repeat;background-size: cover; margin: 0% 0% 0% 0%;">
    <div style=" width: 70%; margin-left: 15%;">
    <input id="stanje" style="width: 70%;height: 70px; border: 2px solid rgb(1, 2, 3); background-color: rgb(222, 226, 224);
     border-radius: 30px; margin-left: 15%; margin-right: 15%; text-align: center; margin-top: 20px; color: black; font-weight: bold; font-size: 30px;;" disabled></input>

    <br>
    <br>
    <br>

    <button class="button-54" id="otvori" style="margin-left: 30%; margin-right: 30%; width: 40%;">Otvori hranilicu</button>
    
    <button class="button-54" id="zatvori" style="margin-left: 30%; margin-right: 30%; width: 40%; margin-top: 2%;">Zatvori hranilicu</button>
    
    <input id="unos" type="number" style="width: 50%;height: 70px; border: 2px solid rgb(1, 2, 3); background-color: rgb(222, 226, 224);
     border-radius: 30px; margin-left: 25%; margin-right: 25%; text-align: center; margin-top: 20px; color: black; font-weight: bold; font-size: 30px;" ></input>

    <button class="button-54" id="unesi" style="margin-left: 30%; margin-right: 30%; width: 40%;margin-top: 2%;">Pokreni</button>
    <button class="button-54" id="zadatak" style="margin-left: 30%; margin-right: 30%; width: 40%;margin-top: 2%;">Zadatak</button>
   <br>





<script type="module">

// Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyAc8HK9j163Ym7QZRF5JQ4yb0jUf6InWpo",
  authDomain: "hranilica-3b2b7.firebaseapp.com",
  databaseURL: "https://hranilica-3b2b7-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "hranilica-3b2b7",
  storageBucket: "hranilica-3b2b7.appspot.com",
  messagingSenderId: "293787070827",
  appId: "1:293787070827:web:d58c756e2e91f343939c2e",
  measurementId: "G-PEG76W4P6J"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);

//   const analytics = getAnalytics(app);

        import {getDatabase, ref, child, update, set, get} from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";

        const db = getDatabase();

const dugme = document.getElementById("otvori");
const dugme2 = document.getElementById("zatvori");
const dugme3=document.getElementById("unesi");
const dugme4=document.getElementById("zadatak");


const input_unos=document.getElementById("unos");
const input_stanje = document.getElementById("stanje");


var broj=input_unos.value;
  

function Otvori(){
    set(ref(db, "hranilica/"), {
        int: 1
    })
    .then(()=>{
        input_stanje.value = "Hranilica je otvorena!";
    })
    .catch((error)=>{
        alert("Greska, error"+error);
    });
}

function Zadatak(){
    set(ref(db, "hranilica/"), {
        int: 3
    })
    .then(()=>{
        input_stanje.value = "Hranilica vam maÅ¡e!";
    })
    .catch((error)=>{
        alert("Greska, error"+error);
    });
}


function Zatvori(){
    set(ref(db, "hranilica/"), {
        int: 0
    })
    .then(()=>{
        input_stanje.value = "Hranilica je zatvorena!";
    })
    .catch((error)=>{
        alert("Greska, error"+error);
    });
    
}


function Pokreni(){
    set(ref(db, "hranilica/"), {
        int: parseInt(input_unos.value),
    })
    .then(()=>{
        input_stanje.value = `${input_unos.value} sekundi radi hranilica, nakon toga je ugasena`;
    })
    .catch((error)=>{
        alert("Greska, error"+error);
    });
    
}

dugme3.addEventListener('click', Pokreni);
dugme.addEventListener('click', Otvori);
dugme2.addEventListener('click', Zatvori);
dugme4.addEventListener('click', Zadatak);


</script>
</body>
</html>
